<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Running an `edgyR` Container • edgyR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/darkly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Running an `edgyR` Container">
<meta property="og:description" content="edgyR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">edgyR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.9.9999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/aa-setting-up-the-jetson-nano.html">Setting up the Jetson Nano</a>
    </li>
    <li>
      <a href="../articles/cc-l4t-first-steps.html">Linux for Tegra (L4T) First Steps</a>
    </li>
    <li>
      <a href="../articles/ee-running-an-edgyr-container.html">Running an `edgyR` Container</a>
    </li>
    <li>
      <a href="../articles/hh-software-on-the-image.html">Overview of Software on the Image</a>
    </li>
    <li>
      <a href="../articles/jj-operations-and-persistence.html">Operations and Persistence</a>
    </li>
    <li>
      <a href="../articles/kk-jupyter-lab.html">Using JupyterLab</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/znmeb/edgyR/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="ee-running-an-edgyr-container_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Running an <code>edgyR</code> Container</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/znmeb/edgyR/blob/master/vignettes/ee-running-an-edgyr-container.Rmd"><code>vignettes/ee-running-an-edgyr-container.Rmd</code></a></small>
      <div class="hidden name"><code>ee-running-an-edgyr-container.Rmd</code></div>

    </div>

    
    
<div id="getting-the-repository" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-the-repository" class="anchor"></a>Getting the repository</h2>
<ol style="list-style-type: decimal">
<li><p>Open a terminal on the Jetson host machine. You can either do this from a terminal window at the host console or logged in remotely via secure shell (SSH).</p></li>
<li>
<p>Create a <code>Projects</code> directory and clone this repository into it.</p>
<pre><code>mkdir --parents ~/Projects
cd ~/Projects
git clone https://github.com/znmeb/edgyR.git
cd edgyR/container-run-scripts</code></pre>
</li>
</ol>
</div>
<div id="starting-the-edgyr-container" class="section level2">
<h2 class="hasAnchor">
<a href="#starting-the-edgyr-container" class="anchor"></a>Starting the <code>edgyr</code> container</h2>
<ol style="list-style-type: decimal">
<li><p>Download the image: <code>./pull-image</code>. You will need to enter your Jetson password to run <code>sudo</code>.</p></li>
<li>
<p>Define a new password for the <code>edgyr</code> account in the container. For security reasons, the container will exit if you do not do this. The new password must be at least 12 characters long. Set the new password in the environment variable <code>EDGYR_PASSWORD</code>. For example:</p>
<p><code>export EDGYR_PASSWORD="12.angry%characters"</code></p>
</li>
<li>
<p>Start the container with <code>./run-edgyr</code>. You may have to enter your Jetson password for <code>sudo</code> again.</p>
<p>RStudio Server will start, listening on IP address <code>0.0.0.0</code> port <code>7878</code>. You should see</p>
<pre><code>./run-edgyr
Force-removing old 'edgyr' container
You can ignore errors if it doesn't exist
Error: No such container: edgyr
Running image znmeb/edgyr-ml:latest
fc04e5d9edbff7d2a7282d9680bd4db41009675ad1983d9e762e2c7144f2990c
CONTAINER ID        IMAGE                   COMMAND                  CREATED             STATUS              PORTS               NAMES
fc04e5d9edbf        znmeb/edgyr-ml:latest   "/docker-entrypoint.…"   6 seconds ago       Up 5 seconds                            edgyr
Resetting 'edgyr' password
Starting RStudio Server - browse to port 7878 on Docker host</code></pre>
<p>The long hexadecimal string and container ID will be different on your system, but the rest should look like what’s above. Note that port <code>7878</code> is <strong><em>not</em></strong> the default RStudio Server port!</p>
<p>This script runs the <code>edgyr</code> container in <em>detached</em> mode. The processes in the container are running in the background, and you can use the terminal for other operations.</p>
</li>
</ol>
</div>
<div id="using-the-container" class="section level2">
<h2 class="hasAnchor">
<a href="#using-the-container" class="anchor"></a>Using the container</h2>
<p>You can use the container two ways - you can either browse to the RStudio Server or log in to the command line from the terminal. Most users will want to use RStudio, so we’ll cover that first.</p>
<div id="browsing-to-the-rstudio-server" class="section level3">
<h3 class="hasAnchor">
<a href="#browsing-to-the-rstudio-server" class="anchor"></a>Browsing to the RStudio Server</h3>
<ol style="list-style-type: decimal">
<li>
<p>Browse to the server and log in. On the Jetson console, browse to <code>localhost:7878</code>. On a remote system, browse to port <code>7878</code> on the IP address of the Jetson host. <strong><em>Note that this is a different port number from the RStudio Server default port number!</em></strong></p>
<p>For example, my Jetson Nano has IP address <code>192.168.254.23</code>, so I browse to <code>http://192.168.254.23:7878</code>. The user name is <code>edgyr</code> and the password is the one you defined when you ran the container in step 3 above – the value you set in the <code>EDGYR_PASSWORD</code> variable before you started the container.</p>
<p><img src="Screenshot_2020-07-11_RStudio_Sign_In.png" width="100%"></p>
</li>
</ol>
<hr>
<ol start="2" style="list-style-type: decimal">
<li>
<p>After you log in, you’ll see the RStudio Server web application page.</p>
<p><img src="Screenshot_2020-07-11_RStudio_Server.png" width="100%"></p>
</li>
</ol>
<hr>
</div>
<div id="exploring-the-container" class="section level3">
<h3 class="hasAnchor">
<a href="#exploring-the-container" class="anchor"></a>Exploring the container</h3>
<p>The RStudio Server web application page is the standard open source RStudio Server “desktop”. I find it useful to set the browser to full-screen mode when using it to minimize distractions.</p>
<p>The <code>Files</code> pane shows some of the extras that are installed on the image and are available to you in the container.</p>
<p><img src="Screenshot_2020-07-12_RStudio_Server_Files.png" width="100%"></p>
<hr>
<p><code>.Renviron</code> and <code>.Rprofile</code> are the standard environment setting files; remember to restart your <code>R</code> session if you change them. <code>already-installed</code> contains the scripts that installed the R packages on the image; you don’t need to run them. <code>bin</code> is the directory where <code>TinyTeX</code> installed its executables.</p>
<p><code>edit-me-then-run-4-git-config.bash</code> is a script you can edit and run to set your <code>git</code> configuration. If you’re going to use <code>git</code>, you’ll need to edit and then run it. <code>installers</code> contains scripts you can run to install add-ons. Currently the only available add-on is TensorFlow 2. <code>logfiles</code> contains compressed log files from all the software installs; <code>gunzip</code> them if you want to look at them.</p>
<p><code>Projects</code> is an empty folder for you to store your projects. <code>start-jupyter-lab</code> starts a JupyterLab server; there is an entire vignette devoted to JupyterLab in <code><a href="../articles/kk-jupyter-lab.html">vignette("kk-jupyter-lab")</a></code>. <code>test-scripts</code> has some scripts you can run and use as examples.</p>
</div>
<div id="logging-in-to-the-command-line" class="section level3">
<h3 class="hasAnchor">
<a href="#logging-in-to-the-command-line" class="anchor"></a>Logging in to the command line</h3>
<p>There are two scripts to log in to the command line of the container: <code>login-as-edgyr</code> and <code>login-as-root</code>. Neither one requires a password. Normally you’ll want to log in as the non-root user <code>edgyr</code>. When you do, it will look like this:</p>
<pre><code>$ ./login-as-edgyr 
To run a command as administrator (user "root"), use "sudo &lt;command&gt;".
See "man sudo_root" for details.

edgyr@edgyr:~$ </code></pre>
<p>Note that you <em>will</em> need the <code>edgyr</code> password if you use <code>sudo</code> when logged in as <code>edgyr</code>.</p>
<p>What can you do at the command line? Pretty much anything you can do with <code>bash</code>, <code>Julia</code>, <code>Python</code> and <code>R</code> from the command line on any Linux system. The functionality is identical to a <code>Terminal</code> pane in RStudio Server.</p>
</div>
</div>
<div id="next-software-on-the-image" class="section level2">
<h2 class="hasAnchor">
<a href="#next-software-on-the-image" class="anchor"></a>Next: Software on the Image</h2>
<p><code><a href="../articles/hh-software-on-the-image.html">vignette("hh-software-on-the-image")</a></code></p>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by M. Edward (Ed) Borasky.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
